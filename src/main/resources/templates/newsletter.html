<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title th:text="#{message.registration.subject}"></title>

    <style>
        @media only screen and (max-width: 600px) {
            .container {
                border-radius: 0 !important;
                padding: 10px !important;
            }
            .card {
                display: block !important;
            }
            .card-img,
            .card-content {
                display: block !important;
                width: 100% !important;
                padding: 0 !important;
            }
            .card-img img {
                width: 100% !important;
                height: auto !important;
            }
        }
    </style>
</head>

<body style="font-family: Arial, sans-serif; background-color: #f6f9fc; margin: 0; padding: 50px 0;">

    <table class="container" role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0"
    style="background-color: #ffffff; max-width: 680px; margin: 0px auto; border-radius: 10px; padding: 20px;">

        <tr>
            <td style="text-align: center; padding-top: 30px">
                <img src="cid:attachement.png" alt="Zerofiltre change des vies et des finances gr√¢ce √† l'IT"
                    style="max-width: 100%; height: auto;">
                <h1 style="color: #1c2e5c;"><span th:text="#{greetings('')}"></span>,</h1>
                <h2><span th:text="#{remind_newsletter_message}"></span></h2>
            </td>
        </tr>

        <tr>
            <td style="padding: 20px;">
                <p th:utext="${content}" style="color: #000; font-size: 16px; margin-bottom:35px;"></p>

                <!-- Bloc articles -->
                <div th:if="${!newArticles.isEmpty()}" style="margin-bottom: 40px;">
                    <div th:each="article : ${newArticles}" style="margin-bottom: 20px;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td style="background-color: #ffffff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 16px;">
                                    <article style="display: table; width: 100%; border-collapse: collapse; font-family: Arial, sans-serif;">
                                        <div style="display: table-row;">
                                            <div class="card-img" style="display: table-cell; width: 180px; vertical-align: top; padding-right: 16px;">
                                                <a th:href="${originUrl} + '/articles/' + ${article.id}">
                                                    <img th:src="${article.thumbnail}" th:alt="${article.title}" style="width: 100%; border-radius: 8px; display: block;" />
                                                </a>
                                            </div>
                                            <div class="card-content" style="display: table-cell; vertical-align: top;">
                                                <div style="margin: 15px 0;">
                                                    <span th:each="tag : ${article.tags}" style="display: inline-block; background-color: #f0f0f0; border-radius: 12px; padding: 5px 10px; margin-right: 5px; font-size: 12px;">
                                                        <span th:text="${tag.name}">tag</span>
                                                    </span>
                                                </div>
                                                <h2 style="margin: 10px 0; font-size: 20px; color: #333;">
                                                    <a th:href="${originUrl} + '/articles/' + ${article.id}" style="color: #333; text-decoration: none;">
                                                        <span th:text="${#strings.capitalize(article.title)}">Titre</span>
                                                    </a>
                                                </h2>
                                                <p style="font-size: 14px; line-height: 1.5; color: #555;">
                                                    <span th:if="${article.summary}" th:text="${article.summary}">R√©sum√©</span>
                                                </p>
                                                <div style="display: table; width: 100%; margin-top: 15px;">
                                                    <div style="display: table-row;">
                                                        <div style="display: table-cell; width: 40px; vertical-align: middle; padding-right: 10px;">
                                                            <img th:src="${article.author.profilePicture}" th:alt="${article.author.fullName}" style="width: 40px; height: 40px; border-radius: 50%;" />
                                                        </div>
                                                        <div style="display: table-cell; vertical-align: middle;">
                                                            <p style="margin: 0; font-size: 14px; font-weight: bold;" th:text="${article.author.fullName}">Auteur</p>
                                                            <p style="margin: 0; font-size: 12px; color: #888;">
                                                                <time th:if="${article.lastPublishedAt != null}" th:text="${#temporals.format(article.lastPublishedAt, 'dd MMM yyyy')}">Date</time>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="margin-top: 10px; font-size: 13px; color: #666;">
                                                    üí¨ <span th:text="${article.reactions.size()}">0</span> r√©actions
                                                </div>
                                            </div>
                                        </div>
                                    </article>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Bloc cours -->
                <div th:if="${!newCourses.isEmpty()}" style="margin-bottom: 40px;">
                    <div th:each="course : ${newCourses}" style="margin-bottom: 20px;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td style="background-color: #ffffff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 16px;">
                                    <article style="display: table; width: 100%; font-family: Arial, sans-serif;">
                                        <div style="display: table-row;">
                                            <div class="card-img"  style="display: table-cell; width: 180px; vertical-align: top; padding-right: 16px;">
                                                <a th:href="${originUrl} + '/cours/' + ${course.id}">
                                                    <img th:src="${course.thumbnail}" th:alt="${course.title}" style="width: 100%; border-radius: 8px; display: block;" />
                                                </a>
                                            </div>
                                            <div class="card-content" style="display: table-cell; vertical-align: top;">
                                                <div style="margin: 15px 0;">
                                                    <span th:each="tag : ${course.tags}" style="display: inline-block; background-color: #f0f0f0; border-radius: 12px; padding: 5px 10px; margin-right: 5px; font-size: 12px;">
                                                        <span th:text="${tag.name}">tag</span>
                                                    </span>
                                                </div>
                                                <h2 style="margin: 10px 0; font-size: 20px; color: #333;">
                                                    <a th:href="${originUrl} + '/cours/' + ${course.id}" style="color: #333; text-decoration: none;">
                                                        <span th:text="${#strings.capitalize(course.title)}">Titre du cours</span>
                                                    </a>
                                                </h2>
                                                <p style="font-size: 14px; line-height: 1.5; color: #555;">
                                                    <span th:if="${course.summary}" th:text="${course.summary}">R√©sum√©</span>
                                                </p>
                                                <div style="display: table; width: 100%; margin-top: 15px;">
                                                    <div style="display: table-row;">
                                                        <div style="display: table-cell; width: 40px; vertical-align: middle; padding-right: 10px;">
                                                            <img th:src="${course.author.profilePicture}" th:alt="${course.author.fullName}" style="width: 40px; height: 40px; border-radius: 50%;" />
                                                        </div>
                                                        <div style="display: table-cell; vertical-align: middle;">
                                                            <p style="margin: 0; font-size: 14px; font-weight: bold;" th:text="${course.author.fullName}">Auteur</p>
                                                            <p style="margin: 0; font-size: 12px; color: #888;">
                                                                <time th:if="${course.lastPublishedAt != null}" th:text="${#temporals.format(course.lastPublishedAt, 'dd MMM yyyy')}">Date</time>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="margin-top: 10px; font-size: 13px; color: #666;">
                                                    üë• <span th:text="${course.enrolledCount}">0</span> suivent
                                                    <span style="margin-right: 10px;"></span>
                                                    ‚ù§Ô∏è <span th:text="${course.reactions.size()}">0</span> aiment
                                                </div>
                                            </div>
                                        </div>
                                    </article>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <p style="color: #000;"><em th:text="#{zerofiltre_team_signature}"></em></p>
            </td>
        </tr>

        <tr>
            <td><div th:replace="fragments/footer :: emailFooter"></div></td>
        </tr>

    </table>

</body>

</html>

